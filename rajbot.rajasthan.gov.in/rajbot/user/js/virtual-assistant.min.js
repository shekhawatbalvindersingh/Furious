var tab1;
var count;
function vaOpen(n) 
{   
		var t, i;		
		sessionStorage.vaState="open";	
$(".ucVirtualAssistant").show(250);
$(".icon-launch").hide(250);		
		//$('#va_trigger img').attr('src','./images/vabutton_closed.PNG');
		//$('#va_trigger img').attr('title','Click here to close the Virtual Assistant');
		liveChatState || (i = $(".virtualAssistant"), n ? i.animate({
        top: "28%"
		}, {
			queue: !1,			
			duration: 500
		}).addClass("active") : i.css("top", "28%").addClass("active"), openBot("", "", ""))	
}

function vaCloseWindow() 
{	 		
	//alert("count"+getCount());
	//getHistory();
//	sessionStorage.vaHistory=tab1;
	var n = $(".virtualAssistant");	
    n.animate({
        top: "118%"
    }, {
        queue: !1,		
        duration: 400
    }).removeClass("active");
    //$('#va_trigger img').attr('src','./images/vabutton.PNG');
	//$('#va_trigger img').attr('title','Click here to open the Virtual Assista');
$(".ucVirtualAssistant").hide(250);
$(".icon-launch").show(250);
	
    openBot("", "", "")
}
function updateEntry(history)
{					
		sessionStorage.vaHistory=history;
}
function getEntry()
{
	return sessionStorage.vaEntry;
}
function getCount()
{
	return sessionStorage.vaCount;
}
function setHistory()
{			
	window.frames[0].document.getElementById('tab-1').innerHTML=sessionStorage.vaHistory		
}
function getHistory()
{
	//console.log('inside egt history');
	tab1=window.frames[0].document.getElementById('tab-1').innerHTML;
	sessionStorage.vaHistory=tab1;
	//alert(tab1);
	if(sessionStorage.vaCount>1)
	{
		//window.frames[0].document.getElementById('tab-1').innerHTNL=tab1;  		
	}
}

function initializeSession()
{	
//console.log('initializeSession');
	if(!sessionStorage.vaCount)
	{
		//sessionStorage.vaState="close";
		//sessionStorage.vaCount=0;	
		//sessionStorage.vaHistory="";
		//console.log('initializeSession inside');
	}	
}
function initializeVirtualAssistant() 
{
	initializeSession();
    $(".icon-launch").mouseover(function() {
        $(".virtualAssistant").hasClass("active") || $(".virtualAssistant").animate({
		top: "116%",
		display:"block"
        }, {
            
            queue: !1,
            duration: 100
        })
    }).mouseout(function() {
        $(".virtualAssistant").hasClass("active") || $(".virtualAssistant").animate({
            top: "118%",
			display:"none"
        }, {
            queue: !1,
            duration: 100
        })
    });
    $("#va_trigger").bind("click", function() 
	{	
       // var n = $(this).parent(".box").parent(".virtualAssistant");
        vaCloseWindow();

    });
	$(".icon-launch").bind("click", function() 
	{	
        //var n = $(this).parent(".box").parent(".virtualAssistant");
         vaOpen(!0);
    });
	$('#uploads').contents().find('iframe').contents().find('#element');
    /*$("a#sb_close").bind("click", function() 
	{
		vaCloseWindow();
	});*/
}

function vaCloseWindowWindow() 
{		
	openBot("", "", "")
}

function vaSetFormItem(n, t) 
{
    parent.frames.frame_txn.document.getElementById(n).value = t;
    $("[name*='" + n + "']").val(t)
}
function keepsessionalive() {}

function navigatePage() {}

function openBot(n, t, i) 
{
	//alert(i);
    var e = (new Date).getTime() + Math.floor(Math.random() * 100),
        r = vaurl,
        u, f;
    n == "" ? (u = 426, f = 510) : (u = 426, f = 620);
	console.log(document.getElementById("vaDiv").style.display == "none")
   // t != "" && i == "" ? r = r + "&StartContext=" + escape(t) : t != "" && i != "" ? r = r + "&StartContext=" + escape(t) + "&entry=" + escape(i) : i != "" && t == "" && (r = r + "&entry=" + escape(i));
     document.getElementById("vaDiv").style.display == "none" ? (document.getElementById("vaDiv").style.display = "block", document.getElementById("vaDiv").style.width = u, document.getElementById("vaDiv").style.height = f, document.getElementById("vaDiv").innerHTML = '<iframe id="botframe" scrolling="no" frameborder="0" height="512px" width="426px"    src="' + r + '" ><\/iframe>') : document.getElementById("vaDiv").style.display = "block"
}

function chatOpen() {
    ces_startChat("", "")
}

function chatClose() {
    ces_startChat("", "");
    liveChatState = !1;
    $(".ucUserControlChatbox").fadeOut()
}

function initializeChatAgent() {
    $("#PublicWrapper").on("click", ".ucUserControlChatbox .minimize", function() {
        $(this).removeClass("minimize").addClass("miximize");
        $(".ucUserControlChatbox .box").slideToggle()
    });
    $("#PublicWrapper").on("click", ".ucUserControlChatbox .miximize", function() {
        $(this).removeClass("miximize").addClass("minimize");
        $(".ucUserControlChatbox .box").slideToggle()
    });
    $("#PublicWrapper").on("click", ".ucUserControlChatbox .close", function() {
        chatClose()
    });
    $("#PublicWrapper").on("click", "#startChatting", function() {
        ces_startChat("", "");
        $(".ucUserControlChatbox .box").height(490);
        $(".ucUserControlChatbox .box .box-container").animate({
            left: "-290px"
        }, "slow");
        $(".ucUserControlChatbox .controller").html('<a class="close"><\/a><a class="minimize"><\/a>')
    });
    $("#PublicWrapper").on("click", "#chatRoom", function() {
        $(".ucUserControlChatbox .box .box-container").animate({
            left: "-580px"
        }, "slow");
        $(".ucUserControlChatbox .controller").html('<a class="close"><\/a><a class="minimize"><\/a><a class="print"><\/a><a class="email"><\/a>')
    });
    $("#PublicWrapper").on("click", ".closeChatRoom", function() {
        $(".ucUserControlChatbox .box .box-container").animate({
            left: "-870px"
        }, "slow");
        $(".ucUserControlChatbox .controller").html('<a class="close"><\/a><a class="minimize"><\/a>')
    })
}

function ces_startChat(n, t) {
    var i = chaturl ? chaturl : "/404.html";
    i = i + "?vaSessionID=" + escape(n);
    i = i + "&chatSubject=" + escape(t);
    i = i + "&businessArea=Public";
    document.getElementById("LiveChatDiv").style.display == "none" ? (vaCloseWindow(), liveChatState = !0, $(".ucUserControlChatbox").fadeIn(), document.getElementById("LiveChatDiv").style.display = "block", document.getElementById("LiveChatDiv").innerHTML = '<iframe src="' + i + '" frameborder="0" height="512px" width="350px" style="max-width: 350px;" ><\/iframe>') : document.getElementById("LiveChatDiv").style.display = "none"
}

function ces_CloseWindow() {
    chatClose()
}

function saveSession(n, t) {
    sessionStorage.sessionPageName && sessionStorage.sessionPageName != "" && sessionStorage.sessionPageTime && sessionStorage.sessionPageTime != "" ? (getPageNamesArray.push(t), getPageTimeArray.push(n), sessionStorage.sessionPageName = getPageNamesArray, sessionStorage.sessionPageTime = getPageTimeArray) : (sessionStorage.sessionPageName = t, sessionStorage.sessionPageTime = n)
}
var liveChatState = !1;
/*
//# sourceMappingURL=virtual-assistant.min.js.map
*/